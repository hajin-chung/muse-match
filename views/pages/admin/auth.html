{{ template "components/Header" . }}

<div class="h-4"></div>
<div class="flex flex-col w-full gap-4 items-center">
  <input
    class="w-full p-1 transition border-2 border-transparent rounded-lg outline-none focus:border-neutral-200 bg-neutral-100 dark:bg-neutral-800 focus:dark:border-neutral-700"
    id="secret"
    type="password"
    value="{{ .EndDate }}"
  />
  <button
    id="submit"
    class="w-full p-1 mb-20 font-bold border-2 border-transparent rounded-lg hover:border-neutral-200 bg-neutral-100 dark:bg-neutral-800 hover:dark:border-neutral-700"
  >
    접속
  </button>
</div>

<script>
  const submitButton = document.getElementById("submit");
  const secretInput = document.getElementById("secret");

  submitButton.onclick = async () => {
    const body = { secret: secretInput.value };
    const res = await fetch("/admin/auth", {
      method: "POST",
      body: JSON.stringify(body),
    });
    document.location.href = "/admin";
  };
</script>
